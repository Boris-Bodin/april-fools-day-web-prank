<html>
<head>
    <script>
        setTimeout(() => {
            let body = document.body;
            let cubeSize = +getComputedStyle(body).getPropertyValue('--cube-size').replace(/\D/g, '');
            let numberH = Math.ceil(body.clientHeight / cubeSize);
            let numberW = Math.ceil(body.clientWidth / cubeSize) + 2;
            let maxElement = numberH * numberW;
            body.innerHTML += '<i></i>'.repeat(maxElement);

            let style = '<style>'
            let maxGrad = 30;
            for (let i = 0; i < maxGrad; i++) {
                style += '\n' +
                    '    body > *:nth-child(' + maxGrad + 'n+' + i + ') {\n' +
                    '        --initial-color: ' + i * (360 / maxGrad) + ';\n' +
                    '    }';
            }
            style += '</style>'
            document.head.innerHTML += style;
        });
    </script>
    <style>

        html, body {
            --cube-size: 50px;
            --roll-speed: 2000ms;
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
        }

        body {
            margin: 0 calc(0px - var(--cube-size));
            width: calc(100% + var(--cube-size) * 2);
            display: flex;
            overflow: hidden;
            flex-wrap: wrap;
            align-content: flex-start;
        }

        body > * {
            flex: 0 0 auto;
            height: var(--cube-size);
            width: var(--cube-size);
            margin: 0;
            padding: 0;
            --animated-color: 0;
            animation: roll-color linear var(--roll-speed) infinite running;
            background-color: hsl(calc(var(--initial-color) + var(--animated-color)), 100%, 50%);
        }

        @property --animated-color {
            syntax: "<number>";
            inherits: false;
            initial-value: 0;
        }

        @keyframes roll-color {
            0% {
                --animated-color: 0;
            }
            100% {
                --animated-color: 360;
            }
        }
    </style>
</head>
<body>
</body>
</html>
